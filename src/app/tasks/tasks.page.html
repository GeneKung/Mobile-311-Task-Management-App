<ion-header [translucent] = "true">
  <ion-toolbar class="header">
    <ion-buttons slot = "start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Tasks</ion-title>
    <ion-buttons slot="end">
      <ion-button  slot="icon-only" (click)="goListSetup()">
        <ion-icon name="options-outline"></ion-icon>
      </ion-button>
      <ion-button slot="icon-only" (click)="goSearch()">
        <ion-icon name="search-outline"></ion-icon>
      </ion-button>
      <ion-button slot="icon-only">
        <ion-icon name="refresh-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-toolbar>
    <ion-segment [(ngModel)]="selectTabs">
      <ion-segment-button value="listView">
        <ion-label>List</ion-label>
      </ion-segment-button>
      <ion-segment-button value="mapView" (click)="showMap(); getPositions()">
        <ion-label>Map</ion-label>
      </ion-segment-button>
    </ion-segment>

    <div *ngIf="selectTabs == 'listView'">   
      <div *ngFor="let card of cards;let index = index;">
        <ion-card>
          <ion-card-header></ion-card-header>
          <ion-card-subtitle>{{ card.time }}</ion-card-subtitle>
          <ion-card-subtitle>Priority {{ card.listInfo.priority }}</ion-card-subtitle>
          <ion-card-title id="workGroup">{{ card.listInfo.workGroup }}</ion-card-title>
          <ion-card-subtitle>{{ card.listInfo.address }}</ion-card-subtitle>
          <ion-icon name="chatbox-outline"><span>{{ card.numComments }}</span></ion-icon>        
        </ion-card>
        </div>
    </div>

    <div *ngIf="selectTabs == 'mapView'">
      <div id="mapid" style="height: 472px"></div>
    </div>
    
  </ion-toolbar>
</ion-content>

<ion-button slot="fixed" vertical="bottom" horizontal="end" class="add" (click)="goCreateTask()">
  <ion-icon name="add-outline" slot="start"></ion-icon> Add Task
</ion-button>

<ion-toolbar slot="fixed" vertical="bottom" expand="block" class="footer">
  <ion-label>Lat: {{ latLong[0] }}</ion-label>
  <br/>
  <ion-label>Long: {{ latLong[1] }}</ion-label>
</ion-toolbar>